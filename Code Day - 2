vk-version.tf


terraform {
  required_providers {
    azurerm = {
      source = "hashicorp/azurerm"
      version = "4.13.0"
    }
  }
}

provider "azurerm" {
  # Configuration options

  features {
    
  }
subscription_id = "bfd8881a-6cc5-4a55-81d7-73350c1acc1f"

}

Resource Group ----

resource "azurerm_resource_group" "vk-rg" {

    name = "vk-rg"
    location = "East US"
  
}

resource "azurerm_virtual_network" "vknet" {

    name = "vknet"
    location = azurerm_resource_group.vk-rg.location
    resource_group_name = azurerm_resource_group.vk-rg.name
    address_space = ["10.0.0.0/16"]

    tags = {
      "owner" = "vivek"
    }
}

resource "azurerm_subnet" "vksubnet" {

    name = "vksubnet"
    resource_group_name = azurerm_resource_group.vk-rg.name
    virtual_network_name = azurerm_virtual_network.vknet.name
    address_prefixes = ["10.0.2.0/24"]
}

resource "azurerm_public_ip" "vkpublicip" {

    name = "vkpublicip-1"
    resource_group_name = azurerm_resource_group.vk-rg.name
    location = azurerm_resource_group.vk-rg.location
    allocation_method = "Static"
    tags = {
      environment = "Dev"
    }
  
}

resource "azurerm_network_interface" "vknic" {

    name = "vknic"
    location = azurerm_resource_group.vk-rg.location
    resource_group_name = azurerm_resource_group.vk-rg.name

    ip_configuration {

        name = "internal"
        subnet_id = azurerm_subnet.vksubnet.id
        private_ip_address_allocation = "Dynamic"
        public_ip_address_id = azurerm_public_ip.vkpublicip.id
      
    }
  
}
